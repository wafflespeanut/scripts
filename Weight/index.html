<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/pygment_trac.css" media="screen" />
    <title>ADP Weight Iterator | Iterate to find the gross & empty weights for your aircraft...</title>
	<style>
	textarea { width: 100px; height: 17px; border:1px solid green; padding: 4px 4px; background: black; color:white; font-family:Lucida console; resize: none }
	#atm {
  border: 2px dashed #fff; width:400px; height:165px; padding: 10px; text-align: center; }
	.demo select {	border:1px solid green; -webkit-appearance:none; -moz-appearance:none; width: 100px; text-indent: 0.02px; color: #FFF; padding:5px; box-shadow: inset 0 0 5px rgba(000,000,000,0.5); background-color: #000; }
	</style>
  </head>

  <body>
    <header>
      <div class="container">
        <h1>ADP - Weight Iterator</h1>
        <h2>Iterate to find the gross & empty weights for your aircraft...</h2>
        <section id="downloads">
          <a href="../index.html" class="btn btn-blog"><span class="icon"></span>Home</a>
		  <a href="https://github.com/Wafflespeanut" class="btn btn-github"><span class="icon"></span>My GitHub profile</a>
          <a href="https://wafflescrazypeanut.wordpress.com" class="btn btn-blog"><span class="icon"></span>Arrow of Time (My blog)</a>
        </section>
      </div>
    </header>
    <div class="container">
      <section id="main_content">

<form class="demo" action="form_action.asp">
<table border="0" cellspacing="0">
<td><table border="0" cellspacing="0">
<tr><td><strong>Net weight, W<sub>0</sub></strong> = <textarea id="W0">275300</textarea> kg
<tr><td><strong>Empty Weight, W<sub>E</sub></strong> = <textarea id="WE">130199</textarea> kg
<tr><td><strong>Thrust Loading</strong> = <textarea id="TL">0.2659</textarea>
<tr><td><strong>Payload Weight, W<sub>P</sub></strong> = <textarea id="WP">52260</textarea> kg
<tr><td><strong>Crew Weight, W<sub>C</sub></strong> = <textarea id="WC">1700</textarea> kg
<tr><td><strong>Range, R</strong> = <textarea maxlength="5" id="R">7000</textarea> km
<tr><td><strong>Number of Engines: </strong><select id="N" style="width: 40px"><option value="4">4</option><option value="2">2</option><option value="3">3</option><option value="5">5</option><option value="6">6</option></select></table>
<td><table border="0" cellspacing="0">
<tr><td><strong>Fuel Weight ratio, W<sub>F</sub>/W<sub>0</sub></strong> = <select id='flight' style="width: 130px"><option value="0.3">0.3 (Long haul)</option><option value="0.4">0.4 (Long haul)</option><option value="0.15">0.15 (Short haul)</option></select>
<tr><td><strong>Cruise Altitude, H<sub>cr</sub></strong> = <textarea id="alt">10448</textarea> m
<tr><td><strong>Cruise Velocity, v<sub>cr</sub></strong> = <textarea id="VCR">894.26467</textarea> km/hr
<tr><td><strong>Cruise Mach Number, M<sub>cr</sub></strong> = <textarea id="MCR">0.83505</textarea><br><br>
<div id="atm"><h3>Standard Atmosphere data</h3><table border="0" cellspacing="0">
<tr><td><strong>Pressure, P<sub>0</sub></strong> = <textarea readonly id="P0">24666.2897</textarea> Pa
<tr><td><strong>Temperature, T<sub>0</sub></strong> = <textarea readonly id="T0">220.238</textarea> K
<tr><td><strong>Density, œÅ<sub>0</sub></strong> = <textarea readonly id="d0">0.3902</textarea> kg/m<sup>3</sup>
</div>
</table></table></table>
<hr><br>
<table border="0" cellspacing="0">
<td><table border="0" cellspacing="0">
<tr><td><strong>Iteration: </strong><textarea style="width: 50px" id='iter'>0</textarea>
<tr><td><strong>Net weight, W<sub>0</sub></strong> = <textarea id="W01">0</textarea> kg
<tr><td><strong>Thrust required (per engine), T</strong> = <textarea id="T1">0</textarea> lbf
<tr><td><strong>Thrust at Cruise (per engine), T<sub>cr</sub></strong> = <textarea id="TCR1">0</textarea> N
<tr><td><strong>Fuel Weight ratio, W<sub>F</sub>/W<sub>0</sub></strong> = <textarea id="RF1">0</textarea>
<tr><td><strong>Empty Weight ratio, W<sub>E</sub>/W<sub>0</sub></strong> = <textarea id="RE1">0</textarea>
</table><td><table border="0" cellspacing="0">
<tr><td><strong>Engine Thrust, T<sub>E</sub></strong> = <textarea id="TE1">0</textarea> lbf
<tr><td><strong>SFC = <textarea id="SFC">0</textarea> lb/lbf-hr
<tr><td><strong>Engine Weight, W<sub>PP</sub></strong> = <textarea id="WPP1">0</textarea> lb<br><br>
<span><button class="button-warning pure-button" style="font-size: 23px; font-family: 'Courier New'" type="button" onclick="fan()">Iterate</button> <button class="button-error pure-button" style="font-size: 23px; font-family: 'Courier New'" type="button" onclick="restart()">Reset</button></span>
</table></table>
</form>
<script src="../javascripts/statm.js" type="text/javascript"></script>
<script type="text/javascript">

vcr=document.getElementById("VCR"); mcr=document.getElementById("MCR")
h=document.getElementById("alt"); wpp=0; W=document.getElementById('W0')
document.getElementById('W01').value=W.value; WE=document.getElementById('WE')
document.getElementById('RE1').value=document.getElementById('WE').value/W.value

mcr.onkeyup = function() {
	vcr.value = mcr.value*Math.sqrt(atmos(parseInt(h.value))[1]*1.4*287)*18/5 }

vcr.onkeyup = function() {
	mcr.value = vcr.value/(Math.sqrt(atmos(parseInt(h.value))[1]*1.4*287)*18/5) }

h.onkeyup = function() {
	document.getElementById('P0').value=atmos(parseInt(h.value))[0];
	document.getElementById('T0').value=atmos(parseInt(h.value))[1];
	document.getElementById('d0').value=atmos(parseInt(h.value))[2]; 
	if(vcr.value) { document.getElementById('MCR').value = vcr.value/(Math.sqrt(atmos(parseInt(h.value))[1]*1.4*287)*18/5) } }

W.onkeyup = function() {
	document.getElementById('W01').value=W.value
	document.getElementById('RE1').value=WE.value/W.value }

WE.onkeyup = function() {
	document.getElementById('RE1').value=WE.value/W.value }

re0=document.getElementById('RE1').value; n=parseFloat(document.getElementById('N').value)
tl=parseFloat(document.getElementById('TL').value); ca=parseFloat(h.value); d0=1.225
cv=parseFloat(document.getElementById('VCR').value); wp=parseFloat(document.getElementById('WP').value)
wc=parseFloat(document.getElementById('WC').value); r=parseFloat(document.getElementById('R').value)

function restart() {
	document.getElementById('W01').value=document.getElementById('W0').value
	document.getElementById('RE1').value=document.getElementById('WE').value/document.getElementById('W0').value
	document.getElementById('iter').value=0; document.getElementById('SFC').value=0
	document.getElementById('WPP1').value=0; document.getElementById('TE1').value=0
	document.getElementById('T1').value=0; document.getElementById('TCR1').value=0
	document.getElementById('RF1').value=0; wpp=0 }

function fan() {
	i=document.getElementById('iter')
	w0=parseFloat(document.getElementById('W01').value); TE=document.getElementById('TE1')
	wf=parseFloat(document.getElementById('RF1').value)*parseFloat(document.getElementById('W01').value)
	WPP=document.getElementById('WPP1'); sfc=document.getElementById('SFC')
	re=parseFloat(document.getElementById('RE1').value)
	if(i.value==0) {
		rf=parseFloat(document.getElementById('flight').value) }
	else { rf=0 }
	re=document.getElementById('RE1').value; w0=(wc+wp+wpp+wf)/(1-re-rf)
	document.getElementById('W01').value=w0
	t=w0*tl*9.81*1.2; document.getElementById('T1').value=t/(4.448*n)
	TE.onkeyup = function() {
		tc=TE.value*4.448*n*Math.pow((atmos(ca)[2]/d0),1.2)
		document.getElementById('TCR1').value=tc/n }
	sfc.onkeyup = function() {
		wf=(sfc.value*tc*r*1.2)/(cv*9.81)
		document.getElementById('RF1').value=wf/w0 }
	WPP.onkeyup = function() {
		wpp=WPP.value*0.4535924*n
		document.getElementById('RE1').value=re0-wpp/w0 }
	i.value=parseFloat(i.value)+1 }

</script>
      </section>
    </div>
  </body>
</html>